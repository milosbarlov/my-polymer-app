<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-date-picker/paper-date-picker.html">
<link rel="import" href="shared-styles.html">


<dom-module id="my-reminders">

	<template class="content">
		<style include="shared-styles">
			:host {
				display:block;
			}

			#entrySection {
				margin:0;
				width:100%;
			}

			paper-checkbox {
				float:right;
				margin:2vh 2vw;
			}

			paper-button {
				background:#CCC;
			}

			paper-fab {
				position:absolute;
				bottom:3vh;
				right:3vw;
				background:#4DD0E1;
			}

			.done {
				background:green;
			}

			.info {
				font-style:italic;
				font-size:14px;
				color:#696969;
				padding-top:0;
				padding-bottom:0;
			}

			paper-material {
				background-color:#FFF;
				max-width:640px;
				width:90%;
				margin:25px auto;
				position:relative;
			}

			.info span {
				margin-left:5px;
			}

			paper-input {
				margin:0 2vw;
			}
		</style>
		<paper-card id="entrySection" elevation="2" heading="Reminders">
			<paper-input label="Title"></paper-input>
			<paper-input label="Description"></paper-input>
			<paper-item>Due date: {{ dateFormat(dd) }}
				<paper-icon-button icon="date-range" on-tap="openDateDialog"></paper-icon-button>
			</paper-item>

			<paper-fab icon="icons:add"></paper-fab>
		</paper-card>

		<paper-dialog id="dateDialog" class="paper-date-picker-dialog" modal on-iron-overlay-closed="dismissDialog">
			<paper-date-picker date="{{dd}}"></paper-date-picker>
			<div class="buttons">
				<paper-button dialog-dismiss>Cancel</paper-button>
				<paper-button dialog-confirm>OK</paper-button>
			</div>
		</paper-dialog>

		<paper-material class="todo" elevation="1">
			<paper-checkbox checked="{{completed}}"></paper-checkbox>
			<paper-fab hidden={{editing}} icon="icons:create" on-tap="doEdit" class="edit" mini></paper-fab>
			<paper-fab hidden={{!editing}} icon="icons:done" on-tap="doEdit" class="done" mini></paper-fab>
			<paper-item hidden="{{editing}}" id="task">{{task}}</paper-item>
			<paper-input id="edit" hidden="{{!editing}}" value="{{task}}"></paper-input>
			<paper-item class="info">Created by: <span>{{ user }}</span></paper-item>
			<paper-item class="info">{{ time }}</paper-item>
		</paper-material> <!-- data bindings in local DOM -->

	</template>

	<script>

		Polymer({
			is: 'my-reminders',
			dd: new Date(),
			openDateDialog: function() {
				this.$.dateDialog.open();
				// fixed date picker bug
				document.querySelector('body').appendChild(this.$.dateDialog);
			},
			dateFormat: function(inp) {
				return ''+inp.getDate() + '/' + inp.getMonth() + '/' + inp.getFullYear();
			}
		});
	</script>
</dom-module>
